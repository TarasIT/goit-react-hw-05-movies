"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[544],{747:function(n,r,e){e.d(r,{LC:function(){return i},P_:function(){return s},YY:function(){return h},_s:function(){return p},up:function(){return f}});var t=e(861),o=e(757),a=e.n(o),c="https://api.themoviedb.org/3/movie/",u="308ba57d7f6135bbdbfbab5697860db3",i=function(){var n=(0,t.Z)(a().mark((function n(){var r,e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new URLSearchParams({api_key:u}),n.next=3,fetch("".concat("https://api.themoviedb.org/3/trending/movie/day?").concat(r));case 3:if((e=n.sent).ok){n.next=6;break}return n.abrupt("return",Promise.reject(new Error("Something went wrong with trend movies :(")));case 6:return n.abrupt("return",e.json());case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=(0,t.Z)(a().mark((function n(r){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new URLSearchParams({api_key:u,query:r}),n.next=3,fetch("".concat("https://api.themoviedb.org/3/search/movie?").concat(e));case 3:if((t=n.sent).ok){n.next=6;break}return n.abrupt("return",Promise.reject(new Error("There are no movies for query '".concat(r,"'!"))));case 6:return n.abrupt("return",t.json());case 7:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),p=function(){var n=(0,t.Z)(a().mark((function n(r){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new URLSearchParams({api_key:u}),n.next=3,fetch("".concat(c).concat(r,"?").concat(e));case 3:if((t=n.sent).ok){n.next=6;break}return n.abrupt("return",Promise.reject(new Error("There are no information about the movie!")));case 6:return n.abrupt("return",t.json());case 7:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),f=function(){var n=(0,t.Z)(a().mark((function n(r){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new URLSearchParams({api_key:u}),n.next=3,fetch("".concat(c).concat(r,"/credits?").concat(e));case 3:if((t=n.sent).ok){n.next=6;break}return n.abrupt("return",Promise.reject(new Error("There is no cast of the movie!")));case 6:return n.abrupt("return",t.json());case 7:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),h=function(){var n=(0,t.Z)(a().mark((function n(r){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new URLSearchParams({api_key:u}),n.next=3,fetch("".concat(c).concat(r,"/reviews?").concat(e));case 3:if((t=n.sent).ok){n.next=6;break}return n.abrupt("return",Promise.reject(new Error("There are no reviews of the movie!")));case 6:return n.abrupt("return",t.json());case 7:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}()},544:function(n,r,e){e.r(r),e.d(r,{default:function(){return P}});var t,o,a,c,u=e(982),i=e(861),s=e(885),p=e(757),f=e.n(p),h=e(791),v=e(731),d=e(689),m=e(747),l=e(168),x=e(444),b=x.ZP.input(t||(t=(0,l.Z)(["\n  width: 300px;\n  height: 30px;\n  padding-top: 0;\n  padding-bottom: 0;\n  margin-right: 10px;\n  border-radius: 5px;\n  font-size: 18px;\n"]))),w=x.ZP.button(o||(o=(0,l.Z)(["\n  width: 100px;\n  min-height: 30px;\n  font-size: 18px;\n  border-radius: 5px;\n\n  :hover,\n  :focus {\n    color: white;\n    background-color: #597ffd;\n  }\n"]))),k=x.ZP.li(a||(a=(0,l.Z)(["\n  font-size: 18px;\n  text-decoration: none;\n\n  :not(:last-child) {\n    margin-bottom: 10px;\n  }\n"]))),g=e(184),y=function(){var n,r=(0,h.useState)([]),e=(0,s.Z)(r,2),t=e[0],o=e[1],a=(0,v.lr)(),c=(0,s.Z)(a,2),p=c[0],l=c[1],x=(0,d.TH)(),y=null!==(n=p.get("query"))&&void 0!==n?n:"",j=function(){var n=(0,i.Z)(f().mark((function n(r){var e;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,m.P_)(r);case 3:e=n.sent,o((0,u.Z)(e.results)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(r){return n.apply(this,arguments)}}();return 0===t.length&&""!==y&&j(y),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("form",{onSubmit:function(n){n.preventDefault();var r=n.target.elements.query.value;""!==r&&(l({query:r}),j(r),n.target.reset())},children:[(0,g.jsx)(b,{name:"query",type:"text"}),(0,g.jsx)(w,{type:"Submit",children:"Search"})]}),0!==t.length&&(0,g.jsx)("ul",{children:t.map((function(n){var r=n.id,e=n.title;return(0,g.jsx)(k,{children:(0,g.jsx)(v.rU,{to:"/movies/".concat(r),state:{from:x},children:e})},r)}))}),0===t.length&&""!==y&&(0,g.jsxs)("h1",{children:["There are no movies with query ",'"'.concat(y,'"')," :("]})]})},j=(0,x.ZP)(v.OL)(c||(c=(0,l.Z)(["\n  display: block;\n  padding: 8px;\n  font-size: 20px;\n\n  :not(:last-child) {\n    margin-bottom: 10px;\n  }\n\n  :hover,\n  :focus {\n    color: orangered;\n  }\n"]))),P=function(){return(0,g.jsxs)("main",{children:[(0,g.jsx)(j,{to:"/",children:"Go back to Homepage"}),(0,g.jsx)(y,{})]})}},861:function(n,r,e){function t(n,r,e,t,o,a,c){try{var u=n[a](c),i=u.value}catch(s){return void e(s)}u.done?r(i):Promise.resolve(i).then(t,o)}function o(n){return function(){var r=this,e=arguments;return new Promise((function(o,a){var c=n.apply(r,e);function u(n){t(c,o,a,u,i,"next",n)}function i(n){t(c,o,a,u,i,"throw",n)}u(void 0)}))}}e.d(r,{Z:function(){return o}})}}]);
//# sourceMappingURL=544.885c5b22.chunk.js.map